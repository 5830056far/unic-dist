webpackJsonp([9],{"3XJ2":function(t,e){},"9KRF":function(t,e,a){"use strict";e.b=c,e.c=function(t){var e=c(t);e.sort(function(t,e){return e.num_alert-t.num_alert});var a=[],o=[],r=[];return e.forEach(function(t,n){a.push(t.district_name),o.push(t.num_alert),r.push(e[0].num_alert)}),{xList:a,data1:o,data2:r}},e.d=function(t){var e=$('<script data-type=static src="'+t+'"><\/script>');e[0].onreadystatechange=function(){alert(123)},e[0].onload=function(){console.log(111111)},e[0].onerror=function(){console.log(2222)},$("#myScript").html(e)},a.d(e,"a",function(){return l});var o=a("hRKE"),r=a.n(o),n=a("rVsN"),i=a.n(n);function c(t){var e=[];return t.forEach(function(t,a){e.push(t)}),e}var l={getVal:function(t,e,a){if(!t)return a||"--";var o=e.replace("[",".").replace("]","").split("."),r=a||"--";return function t(e,a){if(!e[a[0]])return"";if(1===a.length)r=e[a[0]];else{var o=a.shift();t(e[o],a)}}(t,o),r},myPromise:function(t,e){return new i.a(function(a,o){var n=0,i=void 0,c=void 0;function l(){2===n&&a({json:i,data:c})}$.ajax({url:t,type:"get",success:function(t){i="object"!=(void 0===t?"undefined":r()(t))?JSON.parse(t):t,n++,l()},error:function(t){o(t)}}),$.ajax({url:e,type:"get",success:function(t){c="object"!=(void 0===t?"undefined":r()(t))?JSON.parse(t):t,n++,l()},error:function(t){o(t)}})})}}},U67u:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});a("9KRF");var o=a("w/9h"),r=(a.n(o),a("3XJ2")),n=(a.n(r),1),i=[jsonData,jsonData2,jsonData3,jsonData4,jsonData5];function c(t){var e,a,o,r,n,i,c,s,u,m,d;function f(e,a,o){var r;r=a>o?a:o,$(e+" [c-data=today]").eq(0).html(t.park_mgr.motor_vehicle.num_alert_today),$(e+" [c-data=month]").eq(0).html(t.park_mgr.motor_vehicle.num_alert_month),$(e+" [c-data=bar]").eq(0).css("width",Math.round(o/r*100,2)+"%"),$(e+" [c-data=bar]").eq(1).css("width",Math.round(a/r*100,2)+"%")}l(".fire",t.fire_protection_security),function(t){l(".food",t);var e=(a=t.num_alert_today,o=t.num_alert_month,a=parseFloat(a),o=parseFloat(o),r=a>o?a:o,[Math.round(a/r*100),Math.round(o/r*100)]);var a,o,r;$(".food [c-data=bar]").eq(0).css("height",e[0]+"%"),$(".food [c-data=bar]").eq(1).css("height",e[1]+"%"),function(t){var e,a={tooltip:{trigger:"item",formatter:" <br/>{b}: {c} ({d}%) <br/> "},series:[{name:"访问来源",type:"pie",radius:["40%","80%"],avoidLabelOverlap:!0,roseType:"radius",startAngle:90,label:{normal:{show:!0,textStyle:{fontSize:"18",fontWeight:"normal",color:"#9bacf3"}},emphasis:{show:!0,textStyle:{fontSize:"20",fontWeight:"bold"}}},labelLine:{normal:{show:!0}},data:t.sort(function(t,e){return e.field-t.field}).map(function(t,e){return t.itemStyle=function(t){var e=[["#15157b","#7d69d9"],["#1b338c","#4655cf"],["#154885","#3dcd71"],["#c0bc54","#c0bc54"]];return{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:e[t%=4][0]},{offset:1,color:e[t][1]}],globalCoord:!1}}}(e),t.name=t.alert_type,t.value=t.field,t})}]};e=$("#foodPie canvas").length>0?echarts.getInstanceByDom(document.querySelector("#foodPie")):echarts.init(document.querySelector("#foodPie"));e.setOption(a)}(t.alert_percent)}(t.food_safety),r=t.village_street_safety,n=r.village_safety.num_alert_today,i=r.street_safety.num_alert_today,$(".community [c-data=today]").eq(0).html(n),$(".community [c-data=today]").eq(1).html(i),e=r.village_safety.num_tendency_month,a=r.street_safety.num_tendency_month,o={title:{text:"",left:"center",y:"10",textStyle:{color:"#fff"}},color:"#384757",tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#384757"}}},xAxis:[{type:"category",data:function(){var t=0,o=[];t=e.length>a.length?e:a;for(var r=0;r<t.length;r++)o.push(t[r].month);return o}(),axisPointer:{type:"shadow"},axisLabel:{show:!0,textStyle:{color:"#e5e5e5",fontSize:"20"}}}],yAxis:[{type:"value",name:"",nameTextStyle:{color:"#7d838b"},axisLabel:{show:!0,textStyle:{color:"#e5e5e5",fontSize:"18"}},axisLine:{show:!0},splitLine:{lineStyle:{color:"#7d838b"}}}],grid:{top:"5%",bottom:"20%",left:"10%",right:"10%"},series:[{name:"社区安全",type:"bar",data:e.map(function(t,e){return t.value=t.num_alert,t}),barWidth:"20%",itemStyle:{normal:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(2,137,243,1)"},{offset:1,color:"rgba(21,67,150,1)"}],globalCoord:!1}}}},{name:"街道安全",type:"bar",data:a.map(function(t,e){return t.value=t.num_alert,t}),barWidth:"20%",itemStyle:{normal:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(107,119,255,1)"},{offset:1,color:"rgba(61,236,251,1)"}],globalCoord:!1}}},barGap:"30%"}]},($("#commu_bar canvas").length>0?echarts.getInstanceByDom(document.querySelector("#commu_bar")):echarts.init(document.querySelector("#commu_bar"))).setOption(o),l(".water",t.water_quality_mgr),c=t.water_quality_mgr.water_quality_good,s=t.water_quality_mgr.water_quality_nomal,u=t.water_quality_mgr.water_quality_bad,m=Math.max(c,s,u),$(".water [c-data=bar]").eq(0).css("height",Math.round(c/m*100,2)+"%"),$(".water [c-data=bar]").eq(0).find("span").html(c),$(".water [c-data=bar]").eq(1).css("height",Math.round(s/m*100,2)+"%"),$(".water [c-data=bar]").eq(1).find("span").html(s),$(".water [c-data=bar]").eq(2).css("height",Math.round(u/m*100,2)+"%"),$(".water [c-data=bar]").eq(2).find("span").html(u),l(".flood",t.shaft_mgr),f(".virescence",t.green_service.num_alert_today,t.green_service.num_alert_month),$(".park [c-data=today]").eq(0).html(t.park_mgr.motor_vehicle.num_alert_today),$(".park [c-data=month]").eq(0).html(t.park_mgr.motor_vehicle.num_alert_month),$(".park [c-data=today]").eq(1).html(t.park_mgr.non_motorized_vehicle.num_alert_today),$(".park [c-data=month]").eq(1).html(t.park_mgr.non_motorized_vehicle.num_alert_month),f(".market",t.market_monitor.num_alert,t.market_monitor.num_normal),l(".aged",t.aged_service),l(".environment",t.environmental_protection_service),$(".main_c [c-data=records]").html((d=t.realtime_data.num_data_records,d.toString().split("").reverse().map(function(t,e){var a="",o="";return 0!=e&&e%3==0&&(o="<i>,</i>"),/\d/.test(t)&&(a='<i class="i_text">'+t+"</i>"+o),a}).reverse().join(""))),$(".main_c [c-data=equipemnt]").html(t.realtime_data.num_equipemnt),$(".main_c [c-data=today]").html(t.realtime_data.num_alert_today),$(".main_c [c-data=month]").html(t.realtime_data.num_alert_month)}function l(t,e){$(t+" [c-data=today]").html(e.num_alert_today),$(t+" [c-data=month]").html(e.num_alert_month)}function s(t){$(".cycle_3d_item").each(function(e,a){$(a).css({transform:"rotateY("+60*(e-t)+"deg) translateZ(580px)"}).attr("data-rotateY",60*(e-t))})}$(function(){var t,e,a;function o(t,e){var a=e||t;$("."+t).click(function(t){location.href="./pages.html#/"+a.substring(0,1).toUpperCase()+a.substring(1)}).css({cursor:"pointer"})}!function(){var t;t=$("#cyc2Line canvas").length>0?echarts.getInstanceByDom(document.querySelector("#cyc2Line")):echarts.init(document.querySelector("#cyc2Line"));t.setOption({tooltip:{formatter:"{b} : {c}"},grid:{left:"10%",right:"10%",top:"5%",bottom:"20%"},xAxis:{type:"category",boundaryGap:!1,data:["1","2","3","4","5","6","7"],axisLine:{show:!1},axisTick:{show:!1},axisLabel:{color:"#ccc",fontSize:16},splitLine:{show:!0,lineStyle:{color:"#666",type:"dotted",width:2}},axisPointer:{show:!1,type:"line"}},yAxis:{type:"value",show:!1,splitLine:{show:!1},axisTick:{show:!1},axisLine:{show:!1},axisLabel:{color:"#ccc"},axisPointer:{show:!1,type:"line"}},series:[{data:[820,932,901,934,1290,1330,1320,123],type:"line",smooth:!0,lineStyle:{width:8,color:{type:"linear",x:0,y:0,x2:1,y2:0,colorStops:[{offset:0,color:"#fec273"},{offset:.4,color:"#f68772"},{offset:1,color:"#71deec"}],globalCoord:!1}},areaStyle:{color:"rgba(255, 255, 255, 0.2)"}}]})}(),s(1),a=!1,$("#cycle_3d").on("mousedown",function(e){e.preventDefault(),t=e.pageX,a=!0}).on("mousemove",function(o){if(o.preventDefault(),a){if(e=o.pageX-t,!(Math.abs(e)>2))return;e/=2,t=o.pageX,$(".cycle_3d_item").each(function(t,a){var o=$(a).attr("data-rotateY");$(a).css({transform:"rotateY("+(+o+e/4)+"deg) translateZ(580px)"}).attr("data-rotateY",+o+e/4)})}}),$(document).on("mouseup",function(t){t.preventDefault(),a=!1;var e=$(".cycle_3d_item"),o=e.length,r=e.eq(0).attr("data-rotateY");s(r>0?0:r<60*-(o-1)?o-1:Math.round(Math.abs(r/60)))}),o("aged"),o("fire"),o("toCommunity","community"),o("food"),o("virescence","garbage"),o("toStreet","street"),o("market")}),c(i[0]),setInterval(function(){c(i[n]),n++,n%=5},12e3)},"w/9h":function(t,e){}},["U67u"]);
//# sourceMappingURL=index.js.map